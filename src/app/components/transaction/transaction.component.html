<form [formGroup]="transactionForm" *ngIf="transactionForm">

    <input formControlName="senderId" type="number" placeholder="sender account id"
    [ngClass]="{'invalid': f.senderId.touched && f.senderId.errors}">
 
  <span *ngIf="f.senderId.errors && f.senderId.touched">There is no account with this id</span>

  <input formControlName="receiverId" type="number" placeholder="receiver account id"
    [ngClass]="{'invalid': f.receiverId.touched && f.receiverId.errors}">
 
  <span *ngIf="f.receiverId.errors && f.receiverId.touched">There is no account with this id</span>

  <input formControlName="amount" type="number" placeholder="amount"
    [ngClass]="{'invalid': f.amount.touched && f.amount.errors}">

  <span *ngIf="f.amount.errors && f.amount.touched">Please enter a positive number</span>
  

  <button (click)="postFormTransaction()">Make Transaction</button>
</form>

<div *ngIf=transaction>Transaction successfull</div>

<div>
  <button (click)="showTransactions = !showTransactions; getTransactions()">Past Transactions</button>
</div>

<div *ngIf=showTransactions>

  
    <mat-table [dataSource]="transactions" class="mat-elevation-z8">

        <ng-container matColumnDef="id">
          <mat-header-cell *matHeaderCellDef> id </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="amount">
          <mat-header-cell *matHeaderCellDef> amount </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.amount}} </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="receiver_id">
          <mat-header-cell *matHeaderCellDef> receiverId </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.receiverId}} </mat-cell>
        </ng-container>
      
        <ng-container matColumnDef="sender_id">
          <mat-header-cell *matHeaderCellDef> senderId </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.senderId}} </mat-cell>
        </ng-container>
      
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>

</div>


